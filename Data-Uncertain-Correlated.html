<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Uncertain.Correlated</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Uncertain-Correlated.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Uncertain-Correlated.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">uncertain-0.2.0.0: Manipulating numbers with inherent experimental/measurement uncertainty</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2016</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Uncertain.Correlated</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1"><code>Corr</code></a></li><li><a href="#g:2">Uncertain and Correlated Values</a><ul><li><a href="#g:3">Sampling</a></li><li><a href="#g:4">Resolving</a></li></ul></li><li><a href="#g:5">Applying arbitrary functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Provides the <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> monad, which allows one to describe complex
 relationships between random variables and evaluate their propagated
 uncertainties <em>respecting</em> their inter-correlations.</p><p>See the <a href="Data-Uncertain-Correlated-Interactive.html">Data.Uncertain.Correlated.Interactive</a> module for an
 &quot;interactive&quot; and exploratory interface for this module's functionality.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Corr">Corr</a> s a b</li><li class="src short"><a href="#v:evalCorr">evalCorr</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> s. <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a b) -&gt; b</li><li class="src short"><span class="keyword">data</span> <a href="#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:sampleUncert">sampleUncert</a> :: <a href="Data-Uncertain.html#t:Uncert">Uncert</a> a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</li><li class="src short"><a href="#v:sampleExact">sampleExact</a> :: a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</li><li class="src short"><a href="#v:constC">constC</a> :: a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:resolveUncert">resolveUncert</a> :: <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain.html#t:Uncert">Uncert</a> a)</li><li class="src short"><a href="#v:liftC">liftC</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:liftC2">liftC2</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:liftC3">liftC3</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:liftC4">liftC4</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:liftC5">liftC5</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li><li class="src short"><a href="#v:liftCF">liftCF</a> :: (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a) =&gt; (<span class="keyword">forall</span> t. f (<a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; f (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</li></ul></div><div id="interface"><h1 id="g:1"><code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code></h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Corr" class="def">Corr</a> s a b <a href="src/Data-Uncertain-Correlated-Internal.html#Corr" class="link">Source</a></p><div class="doc"><p>The <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> monad allows us to keep track of correlated and
 non-independent samples.  It fixes a basic &quot;failure&quot; of the <code><a href="Data-Uncertain.html#t:Uncert">Uncert</a></code>
 type, which can't describe correlated samples.</p><p>For example, consider the difference between:</p><pre>ghci&gt; sum $ replicate 10 (12.5 <code><a href="Data-Uncertain.html#v:-43--47--45-">+/-</a></code> 0.8)
125 +/- 3
ghci&gt; 10 * (12.5 +/- 0.8)
125 +/- 8
</pre><p>The first one represents the addition of ten independent samples, whose
 errors will in general cancel eachother out.   The second one represents
 sampling once and multiplying it by ten, which will amplify any error by
 a full factor of 10.</p><p>See how the <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> monad expresses the above computations:</p><pre>ghci&gt; <code>evalCorr</code> $ do
        x  &lt;- <code>sampleUncert</code> $ 12.5 <code><a href="Data-Uncertain.html#v:-43--47--45-">+/-</a></code> 0.8
        y1 &lt;- <code>resolveUncert</code> $ sum (replicate 10 x)
        y2 &lt;- resolveUncert $ 10 * x
        return (y1, y2)
(125 +<em>- 8, 125 +</em>- 8)

ghci&gt; <code>evalCorr</code> $ do
        xs &lt;- replicateM 10 (<code>sampleUncert</code> (12.5 +/- 0.8))
        <code>resolveUncert</code> $ sum xs
125 +/- 3
</pre><p>The first example samples once and describes operations on the single
 sample; the second example samples 10 times with <code>replicateM</code> and sums
 all of the results.</p><p>Things are more interesting when you sample multiple variables:</p><pre>ghci&gt; <code>evalCorr</code> $ do
        x &lt;- <code>sampleUncert</code> $ 12.5 <code><a href="Data-Uncertain.html#v:-43--47--45-">+/-</a></code> 0.8
        y &lt;- sampleUncert $ 15.9 +/- 0.5
        z &lt;- sampleUncert $ 1.52 +/- 0.07
        let k = y ** x
        <code>resolveUncert</code> $ (x+z) * logBase z k
1200 +/- 200
</pre><p>The first parameter is a dummy phantom parameter used to prevent <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s
 from leaking out of the computation (see <code>evalCorr</code>).  The second
 parameter is the numeric type of all samples within the description (for
 example, if you ever sample an 'Uncert Double', the second parameter wil
 be <code><a href="../base-4.8.2.0/Prelude.html#t:Double">Double</a></code>).  The third parameter is the result type of the
 computation -- the value the <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> is describing.</p></div><div class="subs instances"><p id="control.i:Corr" class="caption collapser" onclick="toggleSection('i:Corr')">Instances</p><div id="section.i:Corr" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-157" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-157" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-157" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:evalCorr" class="def">evalCorr</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> s. <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a b) -&gt; b <a href="src/Data-Uncertain-Correlated.html#evalCorr" class="link">Source</a></p><div class="doc"><p>Evaluates the value described by a <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> monad, taking into account
 inter-correlations between samples.</p><p>Takes a universally qualified <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code>, which should not affect usage.
 See the examples in the documentation for <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code>.  The univeral
 qualification is mostly a type system trick to ensure that you aren't
 allowed to ever use <code><a href="Data-Uncertain-Correlated.html#v:evalCorr">evalCorr</a></code> to evaluate a <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>.</p></div></div><h1 id="g:2">Uncertain and Correlated Values</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CVar" class="def">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#CVar" class="link">Source</a></p><div class="doc"><p>Represents a single sample (or a value calculated from samples) within
 the <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> monad.  These can be created with <code>sampleUncert</code>,
 <code>sampleExact</code>, and <code><a href="Data-Uncertain-Correlated.html#v:constC">constC</a></code>, or made by combinining others with its
 numeric typeclass instances (like <code><a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a></code>) or its functions lifting
 arbitrary numeric functions (like <code><a href="Data-Uncertain-Correlated.html#v:liftC2">liftC2</a></code>).  These keep track of
 inter-correlations between sources, and if you add together two <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s
 that are correlated, their results will reflect this.</p><p>Can be &quot;resolved&quot; into the uncertain value they represent using
 <code>resolveUncert</code>.</p><p>Note that these are parameterized by a dummy phantom parameter <code>s</code> so
 that they can't be &quot;evaluated&quot; out of the <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> they live in with
 <code>evalCorr</code>.</p><p>Note that a <code><code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> s a</code> can only ever meaningfully &quot;exist&quot; in a <code><code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code>
 s a</code>, meaning that the all samples within that <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> are of the same
 type.</p></div><div class="subs instances"><p id="control.i:CVar" class="caption collapser" onclick="toggleSection('i:CVar')">Instances</p><div id="section.i:CVar" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Floating">Floating</a> a =&gt; <a href="../base-4.8.2.0/Prelude.html#t:Floating">Floating</a> (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-324" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-319" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</span> <a href="src/Data-Uncertain-Correlated-Internal.html#line-310" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:3">Sampling</h2><div class="top"><p class="src"><a name="v:sampleUncert" class="def">sampleUncert</a> :: <a href="Data-Uncertain.html#t:Uncert">Uncert</a> a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a) <a href="src/Data-Uncertain-Correlated.html#sampleUncert" class="link">Source</a></p><div class="doc"><p>Generate a sample in <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> from an <code><a href="Data-Uncertain.html#t:Uncert">Uncert</a></code> value, independently from
 all other samples.</p><p>Note that you can only sample <code><code><a href="Data-Uncertain.html#t:Uncert">Uncert</a></code> a</code>s within a <code><code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> s a</code>, meaning
 that all other &quot;sampled&quot; values are also <code>a</code>s.</p></div></div><div class="top"><p class="src"><a name="v:sampleExact" class="def">sampleExact</a> :: a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a) <a href="src/Data-Uncertain-Correlated.html#sampleExact" class="link">Source</a></p><div class="doc"><p>Generate an exact sample in <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> with zero uncertainty,
 independently from all other samples.</p><p>Not super useful, since you can do something equivalent with <code><a href="Data-Uncertain-Correlated.html#v:constC">constC</a></code>
 or the numeric instances:</p><pre>sampleExact x  &#8801; return (<code><a href="Data-Uncertain-Correlated.html#v:constC">constC</a></code> x)
sampleExact 10 &#8801; return 10
</pre><p>But is provided for completeness alongside <code><a href="Data-Uncertain-Correlated.html#v:sampleUncert">sampleUncert</a></code>.</p><p>Note that you can exactly sample an <code>a</code> within a <code><code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> s a</code>, meaning
 that all other &quot;sampled&quot; values are also <code>a</code>s.</p></div></div><div class="top"><p class="src"><a name="v:constC" class="def">constC</a> :: a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#constC" class="link">Source</a></p><div class="doc"><p>Creates a <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> representing a completely independent sample from all
 other <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s containing the exact value given.</p></div></div><h2 id="g:4">Resolving</h2><div class="top"><p class="src"><a name="v:resolveUncert" class="def">resolveUncert</a> :: <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a> s a (<a href="Data-Uncertain.html#t:Uncert">Uncert</a> a) <a href="src/Data-Uncertain-Correlated.html#resolveUncert" class="link">Source</a></p><div class="doc"><p><a href="Resolve.html">Resolve</a> an <code><a href="Data-Uncertain.html#t:Uncert">Uncert</a></code> from a <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> using its potential multiple
 samples and sample sources, taking into account inter-correlations
 between <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s and samples.</p><p>Note that if you use <code><a href="Data-Uncertain-Correlated.html#v:sampleUncert">sampleUncert</a></code> on the result, the new sample will
 be treated as something completely independent.  Usually this should
 only be used as the &quot;exit point&quot; of a <code><a href="Data-Uncertain-Correlated.html#t:Corr">Corr</a></code> description.</p></div></div><h1 id="g:5">Applying arbitrary functions</h1><div class="top"><p class="src"><a name="v:liftC" class="def">liftC</a> <a href="src/Data-Uncertain-Correlated-Internal.html#liftC" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a))</td><td class="doc"><p>Function on values to lift</p></td></tr><tr><td class="src">-&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</td><td class="doc"><p><code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> sample to apply the function to</p></td></tr><tr><td class="src">-&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Lifts a numeric function over the sample represented by a <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>.
 Correctly propagates the uncertainty according to the second-order
 taylor expansion expansion of the function.  Note that if the
 higher-degree taylor series terms are large with respect to the mean and
 variance, this approximation may be inaccurate.</p><p>Should take any function sufficiently polymorphic over numeric types, so
 you can use things like <code><a href="../base-4.8.2.0/Prelude.html#v:sqrt">sqrt</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:sin">sin</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:negate">negate</a></code>, etc.</p><pre>ghci&gt; evalCorr $ do
        x &lt;- sampleUncert $ 12.5 +/- 0.8
        y &lt;- sampleUncert $ 15.9 +/- 0.5
        resolveUncert $ liftC (z -&gt; log z ^ 2) (x + y)
11.2 +/- 0.2
</pre></div></div><div class="top"><p class="src"><a name="v:liftC2" class="def">liftC2</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#liftC2" class="link">Source</a></p><div class="doc"><p>Lifts a two-argument (curried) function over the samples represented
 by two <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s.  Correctly propagates the uncertainty according to the
 second-order (multivariate) taylor expansion expansion of the function,
 and properly takes into account and keeps track of all
 inter-correlations between the <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> samples.  Note that if the
 higher-degree taylor series terms are large with respect to the mean and
 variance, this approximation may be inaccurate.</p><p>Should take any function sufficiently polymorphic over numeric types, so
 you can use things like <code><a href="../base-4.8.2.0/Prelude.html#v:-42-">*</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:atan2">atan2</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:-42--42-">**</a></code>, etc.</p><pre>ghci&gt; evalCorr $ do
        x &lt;- sampleUncert $ 12.5 +/- 0.8
        y &lt;- sampleUncert $ 15.9 +/- 0.5
        resolveUncert $ liftC2 (a b -&gt; log (a + b) ^ 2) x y
11.2 +/- 0.2
</pre></div></div><div class="top"><p class="src"><a name="v:liftC3" class="def">liftC3</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#liftC3" class="link">Source</a></p><div class="doc"><p>Lifts a three-argument (curried) function over the samples represented
 by three <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s.  See <code><a href="Data-Uncertain-Correlated.html#v:liftC2">liftC2</a></code> and <code><a href="Data-Uncertain-Correlated.html#v:liftCF">liftCF</a></code> for more details.</p></div></div><div class="top"><p class="src"><a name="v:liftC4" class="def">liftC4</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#liftC4" class="link">Source</a></p><div class="doc"><p>Lifts a four-argument (curried) function over the samples represented
 by four <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s.  See <code><a href="Data-Uncertain-Correlated.html#v:liftC2">liftC2</a></code> and <code><a href="Data-Uncertain-Correlated.html#v:liftCF">liftCF</a></code> for more details.</p></div></div><div class="top"><p class="src"><a name="v:liftC5" class="def">liftC5</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a =&gt; (<span class="keyword">forall</span> t. <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a -&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a <a href="src/Data-Uncertain-Correlated-Internal.html#liftC5" class="link">Source</a></p><div class="doc"><p>Lifts a five-argument (curried) function over the samples represented
 by five <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s.  See <code><a href="Data-Uncertain-Correlated.html#v:liftC2">liftC2</a></code> and <code><a href="Data-Uncertain-Correlated.html#v:liftCF">liftCF</a></code> for more details.</p></div></div><div class="top"><p class="src"><a name="v:liftCF" class="def">liftCF</a> <a href="src/Data-Uncertain-Correlated-Internal.html#liftCF" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f, <a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> t. f (<a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a)) -&gt; <a href="../ad-4.3.2/Numeric-AD-Internal-Type.html#t:AD">AD</a> t (<a href="../ad-4.3.2/Numeric-AD-Rank1-Sparse.html#t:Sparse">Sparse</a> a))</td><td class="doc"><p>Function on container of values to lift</p></td></tr><tr><td class="src">-&gt; f (<a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a)</td><td class="doc"><p>Container of <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> samples to apply the function to</p></td></tr><tr><td class="src">-&gt; <a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a> s a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Lifts a multivariate numeric function on a container (given as an <code>f
 a -&gt; a</code>) to work on a container of <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code>s.  Correctly propagates the
 uncertainty according to the second-order (multivariate) taylor
 expansion of the function, and properly takes into account and keeps
 track of all inter-correlations between the <code><a href="Data-Uncertain-Correlated.html#t:CVar">CVar</a></code> samples.  Note that
 if the higher-degree taylor series terms are large with respect to the
 means and variances, this approximation may be inaccurate.</p><p>Should take any function sufficiently polymorphic over numeric types, so
 you can use things like <code><a href="../base-4.8.2.0/Prelude.html#v:-42-">*</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:sqrt">sqrt</a></code>, <code><a href="../base-4.8.2.0/Prelude.html#v:atan2">atan2</a></code>, etc.</p><pre>ghci&gt; evalCorr $ do
        x &lt;- sampleUncert $ 12.5 +/- 0.8
        y &lt;- sampleUncert $ 15.9 +/- 0.5
        z &lt;- sampleUncert $ 1.52 +/- 0.07
        resolveUncert $ liftCF ([a,b,c] -&gt; (a+c) * logBase c (b**a)) x y z
1200 +/- 200
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>